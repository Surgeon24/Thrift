<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" th:href="@{/styles.css}" />
    <script>
		// Function to toggle the profile pop-up
		function togglePopup() {
			var popup = document.getElementById("profile-popup");
			popup.style.display = popup.style.display === "block" ? "none" : "block";
		}
        function redirectToWallet() {
          let currentUrl = window.location.href;
          let baseUrl = currentUrl.substring(0, currentUrl.lastIndexOf("/investment"));
          let newUrl = baseUrl + "/wallets";
          window.location.href = newUrl;
        }
        function redirectToGroups() {
          let currentUrl = window.location.href;
          let baseUrl = currentUrl.substring(0, currentUrl.lastIndexOf("/investment"));
          let newUrl = baseUrl + "/groups";
          window.location.href = newUrl;
        }
        function redirectToInvestments() {
          let currentUrl = window.location.href;
          let baseUrl = currentUrl.substring(0, currentUrl.lastIndexOf("/investment"));
          let newUrl = baseUrl + "/investments";
          window.location.href = newUrl;
        }
        function redirectToProfile() {
          let currentUrl = window.location.href;
          let baseUrl = currentUrl.substring(0, currentUrl.lastIndexOf("/investment"));
          let newUrl = baseUrl + "/profile";
          window.location.href = newUrl;
        }
	</script>
</head>
<body>
<!-- Header panel with buttons -->
<div class="header">
    <div style="width: 20%; height: auto;">
        <img th:src="@{/icons/logo.png}" alt="Thrift" style="width: 100%; height: auto;">
    </div>
    <button onclick="redirectToWallet()"><img th:src="@{/icons/wallet.png}" alt="Wallet">Personal Wallets</button>
    <button onclick="redirectToGroups()"><img th:src="@{/icons/groups.png}" alt="Groups">Groups</button>
    <button onclick="redirectToInvestments()"><img th:src="@{/icons/investments.png}" alt="Investments">Investments</button>
    <button onclick="redirectToProfile()"><img th:src="@{/icons/profile.png}" alt="Profile">My Profile</button>
</div>
<!--<h1 th:text="${username} + ' investment'"/>-->
<!--<div th:text="${investment.title}"></div>-->
<!--<div th:text="${investment.description}"></div>-->
<!--<div th:text="${investment.amount}"></div>-->
<!--<form th:action="@{'/' + ${username} + '/investment/' + ${investment.id}}" method="POST">-->
<!--    <div>-->
<!--        <input type="submit" value="Save changes">-->
<!--    </div>-->
<!--</form>-->


<!--<div>-->
<!--    <h1>Title:</h1>-->
<!--    <input type="text" th:value="${investment.title}" />-->
<!--</div>-->
<!--<div>-->
<!--    <h1>Description:</h1>-->
<!--    <textarea th:value="${investment.description}"></textarea>-->
<!--</div>-->
<!--<div>-->
<!--    <h1>Amount:</h1>-->
<!--    <input type="number" th:value="${investment.amount}" />-->
<!--</div>-->
<!--<form th:action="@{'/' + ${username} + '/investment/' + ${investment.id}}" method="POST">-->
<!--    <div>-->
<!--        <input type="hidden" name="existingTitle" th:value="${investment.title}" />-->
<!--        <input type="hidden" name="existingDescription" th:value="${investment.description}" />-->
<!--        <input type="hidden" name="existingAmount" th:value="${investment.amount}" />-->
<!--        <input type="submit" value="Save changes" />-->
<!--    </div>-->
<!--</form>-->


<form th:action="@{'/' + ${username} + '/investment/' + ${investment.id}}" method="POST">
    <div>
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" th:value="${investment.title}" required>
    </div>
    <div>
        <label for="description">Description:</label>
        <input type="text" id="description" name="description" th:value="${investment.description}" required>
    </div>
    <div>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" th:value="${investment.amount}" required>
    </div>
    <div>
        <input type="submit" value="Submit">
    </div>
</form>





<form th:action="@{'/' + ${username} + '/investment/' + ${investment.id} + '/delete'}" method="POST">
    <div>
        <input type="submit" value="Delete investment">
    </div>
</form>


</body>
</html>